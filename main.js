(()=>{"use strict";var t,e={890:(t,e,i)=>{i.d(e,{Z:()=>h});var o=i(81),n=i.n(o),a=i(645),s=i.n(a)()(n());s.push([t.id,"body {\r\n    padding: 0;\r\n    margin: auto;\r\n    overflow: hidden;\r\n    margin: auto;\r\n}\r\n\r\n#game-area {\r\n    padding: 0;\r\n    margin: 0;\r\n}\r\n\r\ncanvas {\r\n    display: block;\r\n}",""]);const h=s},372:(t,e,i)=>{var o=i(535),n=i(379),a=i.n(n),s=i(795),h=i.n(s),r=i(569),d=i.n(r),c=i(565),l=i.n(c),g=i(216),p=i.n(g),m=i(589),u=i.n(m),f=i(890),y={};y.styleTagTransform=u(),y.setAttributes=l(),y.insert=d().bind(null,"head"),y.domAPI=h(),y.insertStyleElement=p(),a()(f.Z,y),f.Z&&f.Z.locals&&f.Z.locals;const w=new o.pn8({fontFamily:"Arial",fontSize:36,fontStyle:"italic",fontWeight:"bold",fill:["#ffffff","#00ff99"],stroke:"#4a1850",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:440,lineJoin:"round"});function x(t,e){let i=t.getBounds(),o=e.getBounds();return i.x+i.width>o.x&&i.x<o.x+o.width&&i.y+i.height>o.y&&i.y<o.y+o.height}class b{constructor(t,e){this.graphic=t,this.hitbox=e,this.graphic.anchor.set(.5),this.hitbox.anchor.set(.5),this.graphic.x=this.hitbox.x,this.graphic.y=this.hitbox.y,this.graphic.rotation=this.hitbox.rotation,this.velocity=0}updatePhysics(t,e,i){this.velocity+=e*t,this.velocity=Math.min(Math.abs(this.velocity),i)*Math.sign(this.velocity);const o=(this.velocity/22+9*this.graphic.rotation)/10;this.graphic.rotation=o,this.hitbox.rotation=o,this.incrementPosition(0,this.velocity*t)}setVelocity(t){this.velocity=t}setPosition(t,e){this.graphic.x=t,this.hitbox.x=t,this.graphic.y=e,this.hitbox.y=e}incrementPosition(t,e){this.graphic.x+=t,this.hitbox.x+=t,this.graphic.y+=e,this.hitbox.y+=e}}const v={gameWidth:document.defaultView.innerWidth,gameHeight:document.defaultView.innerWidth,moveSpeed:2,pipes:{distancePerSpawn:250,width:80,gap:200},player:{height:60,width:70,hitboxHeight:40,hitboxWidth:40}};class S{constructor(t){this.width=80,this.gap=200,this.topHalf=new o.jyi(t),this.bottomHalf=new o.jyi(t),this.bottomHalf.anchor.set(0),this.topHalf.rotation=Math.PI,this.topHalf.anchor.set(1,0),this.bottomHalf.height=600,this.topHalf.height=600,this.topHalf.width=this.width,this.bottomHalf.width=this.width,this.bottomHalf.x=v.gameWidth+this.width,this.topHalf.x=v.gameWidth+this.width}setGapLocation(t){this.topHalf.y=t,this.bottomHalf.y=t+this.gap}updatePosition(t){this.bottomHalf.x-=v.moveSpeed*t,this.topHalf.x-=v.moveSpeed*t}getTopPipeBounds(){return this.topHalf.getBounds()}getBottomPipeBounds(){return this.bottomHalf.getBounds()}}const H={mode:"menu",modeStarted:!1,inGameState:{currentScore:0,distanceSinceSpawn:0,totalDistance:0,onGround:!1},history:{highScore:0,maxDistance:0}},P=i.p+"ded6b5de837b78607a1941f7db90d614.png",C=i.p+"02f7f5107e55ee313dc305e5cc71fffe.png",k=i.p+"0bdae565dd2ca991486cfbce53cff982.png",W=i.p+"93f87fb270893eda27963f68601ac33d.png",G=i.p+"40e1d749fa5eca84edb166fa8b1ab2d6.png";class B extends o.oO3{setWidth(t){this.width=t}setHeight(t){const e=()=>{const e=this.texture.height;this.height=t;let i=t/e;this.tileScale={x:i,y:i}};this.texture.valid?e():this.texture.baseTexture.once("loaded",(()=>{e()}))}}const E=B;class T extends o.W20{constructor(){super();const t=o.xEZ.from(P);this.background=new E(t,v.gameWidth,v.gameHeight),this.background.setWidth(v.gameWidth),this.background.setHeight(v.gameHeight);const e=o.xEZ.from(G);this.farMountain=new E(e),this.farMountain.anchor.set(0,1),this.farMountain.x=0,this.farMountain.y=v.gameHeight,this.farMountain.setWidth(v.gameWidth),this.farMountain.setHeight(.45*v.gameHeight);const i=o.xEZ.from(C);this.mountains=new E(i),this.mountains.anchor.set(0,1),this.mountains.x=0,this.mountains.y=v.gameHeight,this.mountains.setWidth(v.gameWidth),this.mountains.setHeight(v.gameHeight/2);const n=o.xEZ.from(k);this.trees=new E(n),this.trees.anchor.set(0,1),this.trees.y=v.gameHeight,this.trees.setWidth(v.gameWidth),this.trees.setHeight(v.gameHeight/3);const a=o.xEZ.from(W);this.foregroundTrees=new E(a),this.foregroundTrees.anchor.set(0,1),this.foregroundTrees.y=v.gameHeight,this.foregroundTrees.setWidth(v.gameWidth),this.foregroundTrees.setHeight(v.gameHeight/4),this.addChild(this.background),this.addChild(this.farMountain),this.addChild(this.mountains),this.addChild(this.trees),this.addChild(this.foregroundTrees)}updateBackground(t){this.background.tilePosition.x-=.08*t,this.farMountain.tilePosition.x-=.1*t,this.mountains.tilePosition.x-=.2*t,this.trees.tilePosition.x-=.6*t,this.foregroundTrees.tilePosition.x-=1.2*t}resetBackgroundPosition(){this.background.tilePosition.x=0,this.farMountain.tilePosition.x=0,this.mountains.tilePosition.x=0,this.trees.tilePosition.x=0,this.foregroundTrees.tilePosition.x=0}}const M=T,O=i.p+"261cd139159b803fe64f5eab2072144b.png",j=i.p+"913ed0820c750a1b30b5c9682fb16c6b.png",Z=i.p+"ec8d966e0b541d47b2f30c20af55324f.png";!function(){const t=new o.MxU({background:"#1099bb",antialias:!0,autoDensity:!0,width:v.gameWidth,height:v.gameHeight}),e=document.getElementById("game-area");if(null==e)return;e.appendChild(t.view);const i=function(t){let[e,i,n]=function(t){const e=new o.W20,i=o.jyi.from(O);i.width=v.player.width,i.height=v.player.height;const n=new o.jyi;n.width=v.player.hitboxWidth,n.height=v.player.hitboxHeight;const a=new b(i,n),s=new o.VL4(j),h=new o.xEZ(s,new o.AeJ(0,0,512,100)),r=new o.oO3(h);r.width=v.gameWidth,r.height=10,r.anchor.set(0,1),r.x=0,r.y=v.gameHeight;const d=new M,c=o.xEZ.from(Z);let l=t=>{console.log("menuClick"),console.log(t,typeof t),H.mode="play",H.modeStarted=!1},g=[],p=t=>{console.log("playClick"),a.setVelocity(-10)};const m=new o.xvT("0",w);m.x=300-m.width/2,m.y=50;let u=t=>{console.log("deathClick"),H.mode="play",H.modeStarted=!1};return[function(i){if(!H.modeStarted){t.stage.removeChildren(),e.removeChildren();const i=new o.jyi;i.width=t.screen.width,i.height=t.screen.height,i.interactive=!0,i.on("pointerdown",l),document.removeEventListener("keypress",u),document.addEventListener("keypress",l),t.stage.addChild(i);const n=new o.xvT("Flappy Bird Clone",w);n.x=50,n.y=220,t.stage.addChild(n),H.modeStarted=!0}},function(i){if(!H.modeStarted){H.inGameState.totalDistance=0,H.inGameState.distanceSinceSpawn=0,t.stage.removeChildren(),e.removeChildren();const i=new o.jyi;i.width=t.screen.width,i.height=t.screen.height,i.interactive=!0,t.stage.addChild(i),d.resetBackgroundPosition(),r.tilePosition.x=0,t.stage.addChild(d),t.stage.addChild(e),t.stage.addChild(m),document.removeEventListener("keypress",u),document.removeEventListener("keypress",l),i.on("pointerdown",p),document.addEventListener("keypress",p),H.inGameState.onGround=!1,a.setVelocity(-5),t.stage.addChild(a.hitbox),t.stage.addChild(a.graphic),a.setPosition(140,50),t.stage.addChild(r),H.modeStarted=!0}if(H.inGameState.currentScore=Math.floor(Math.max(0,(H.inGameState.totalDistance-v.gameWidth-v.player.hitboxWidth)/v.pipes.distancePerSpawn)),m.text=H.inGameState.currentScore,a.updatePhysics(i,.5,25),H.inGameState.distanceSinceSpawn+=i*v.moveSpeed,H.inGameState.totalDistance+=i*v.moveSpeed,H.inGameState.distanceSinceSpawn>v.pipes.distancePerSpawn){const t=new S(c);t.setGapLocation(t.width+Math.random()*(v.gameHeight-t.gap-2*t.width)),e.addChild(t.topHalf),e.addChild(t.bottomHalf),g.push(t),H.inGameState.distanceSinceSpawn-=v.pipes.distancePerSpawn}x(a.hitbox,r)&&(H.mode="dead",H.modeStarted=!1,H.inGameState.onGround=!0,g=[],console.log("collideGround")),g.forEach((t=>{(function(t,e){let i=t.getBounds(),o=e.getTopPipeBounds(),n=e.getBottomPipeBounds(),a=i.x+i.width>n.x&&i.x<n.x+n.width&&i.y+i.height>n.y,s=i.x+i.width>o.x&&i.x<o.x+o.width&&i.y<o.y+o.height;return a||s})(a.hitbox,t)&&(console.log("collidePipe"),H.mode="dead",H.modeStarted=!1,a.setVelocity(.1),g=[]),t.updatePosition(i)})),g=g.filter((e=>!(e.bottomHalf.getBounds().right<0&&(t.stage.removeChild(e.bottomHalf),t.stage.removeChild(e.topHalf),e.bottomHalf.destroy(),e.topHalf.destroy(),1)))),d.updateBackground(i),r.tilePosition.x-=i*v.moveSpeed},function(e){if(!H.modeStarted){const e=t.stage.getChildAt(0);e.removeAllListeners(),e.on("pointerdown",u),document.removeEventListener("keypress",p),document.addEventListener("keypress",u);const i=new o.xvT("Click to play again",w);i.x=50,i.y=220,t.stage.addChild(i),H.modeStarted=!0}H.inGameState.onGround||(a.updatePhysics(e,.5,25),x(a.hitbox,r)&&(a.setVelocity(.1),H.inGameState.onGround=!0,console.log("collideGround")))}]}(t);return function(t){"menu"==H.mode&&e(t),"play"==H.mode&&i(t),"dead"==H.mode&&n(t)}}(t);t.ticker.add((e=>i(e,t)))}()}},i={};function o(t){var n=i[t];if(void 0!==n)return n.exports;var a=i[t]={id:t,loaded:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.m=e,t=[],o.O=(e,i,n,a)=>{if(!i){var s=1/0;for(c=0;c<t.length;c++){for(var[i,n,a]=t[c],h=!0,r=0;r<i.length;r++)(!1&a||s>=a)&&Object.keys(o.O).every((t=>o.O[t](i[r])))?i.splice(r--,1):(h=!1,a<s&&(s=a));if(h){t.splice(c--,1);var d=n();void 0!==d&&(e=d)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[i,n,a]},o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),(()=>{var t={179:0};o.O.j=e=>0===t[e];var e=(e,i)=>{var n,a,[s,h,r]=i,d=0;if(s.some((e=>0!==t[e]))){for(n in h)o.o(h,n)&&(o.m[n]=h[n]);if(r)var c=r(o)}for(e&&e(i);d<s.length;d++)a=s[d],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(c)},i=self.webpackChunkflappybird=self.webpackChunkflappybird||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),o.nc=void 0;var n=o.O(void 0,[214],(()=>o(372)));n=o.O(n)})();